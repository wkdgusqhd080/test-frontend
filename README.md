

10. 27 ~ 28 (Tue ~ Wed)

- 부족한것이 정말 많지만... React를 사용하여 회원가입/로그인 기능을 개발했다.


느낀점 & 내가 하고싶은말 (내용의 레벨이 조금낮습니다.. 지루하고 길수도 있습니다.. 주의해주세요)

- Java + JSP로 하루반만에 회원가입/로그인 기능을 마무리하고는 React프로젝트를 준비해서 진행했다.

- create-react-app 이걸 몇번을 하고 github 레포지토리를 몇번을 지우고 생성하고 한지 모르겠다..

- 이번 테스트에서는 나에게 제일 큰 개발에 대한 카타르시스를 준건 React 요녀석이다.. 모르는 부분들이 너무 많아서 검색하고 질문하고해서 어떻게든 구현을 했다.

- 우선 개발하면서 느낀것은 내가 평소 조금씩 공부하면서 알고있던 React라는 것은 함수형/클래스형 Component와 Props/state, Render, ComponentDidMount 이정도의 개념을 알고있었는데
  
  내가 알고있던것은 알고있던게 아니었다. 역시 기능을 만들어보니까.. 
  
  ??: HOW? 그래서 이걸 어떻게 써서 만들라는거에요? 
  
  라는 생각에 멘붕이 왔다.
  
  create-react-app을 하면 구조는 알아서 잡아주니까 하면 되겠지했지만.. 막상 패키지구조를 어떻게 추가하고 지우고 해야할지 모르겠었다.
  
  그리하여 Component들을 묶어야 되겠다 생각을 하여 디렉토리를 만들어서 개발을 했다.
  
  난 그동안 MPA로 개발을 하다보니 SPA 라는것으로 개발을 해보니 무엇보다 페이지이동을 어떻게 한다는건데? 라는 고민과 시행착오가 내게 밀려들었다.
  
  Route, Link 이런개념들을 사용하고 공부했지만, 쉽사리 페이지 이동에 대해서 실마리가 잡히지는 않았다. 
  
  주변에 질문도 하고 찾아보던중 SPA니까 한페이지에서 계속해서 render 해주는거라고 생각하고 접근을 했고, template 컴포넌트를 통해서 header, footer 같은영역은 고정을하고
  
  가운데 내용들만 또 다시 Component를 사용하여 그려주는것이라고 생각하여 거의 하드코딩으로 구조를 잡아갔다.
  
  구조는 어느정도 잡았고 이제 퍼블리싱을 해서 화면을 그려갔다.
  
  퍼블리싱을 하면서 느낀점이 SPA라 그런지 모르겠지만 상당히 빠르게 css를 입히고 개발을 했다. JSP를 사용한 프로젝트에서 퍼블을 한것보다 훨씬 빠르게 했던것 같다.
  
  여기서 React에 대해서 호감도가 조금 상승했다.
  
  첫 페이지에서 티릴리의 로고가 나오면 1-2초 후 로그인 페이지가 나오게끔 하려했는데.. 우선은 setTimeout 함수를 사용하면 될것같았는데 MPA가 아니라서 어떻게 해야할지 잘모르겠어서 넘어갔다..
  
  로그인페이지에서 회원가입버튼을 누르면 페이지이동을 해야하는데 이부분에 있어서 검색하고.. 물어보고했다.
  
  그러던중 this.props.history를 사용하는 방법을 알게되었고 이동을 할수있게 되었다. 여기서 this.props에 대해서 console에 찍어보니 여러가지 속성과 함수들이 나왔고,
  
  나는 Component의 정보들이 들어있다고 이해를 하고 개발을 했다.
  
  저 부분을 해결하니 맨처음 직면한 로고가 나온후 3초뒤 로그인페이지를 구현하는 실마리를 찾았다.
  
  로고 Component에서 render한 후 실행되는 ComponentDidMount에서 setTimeout과 history를 사용하여 다른 Route로 이동처리를 했다.
  
  입력을 받는 Component에서 사용자에게 입력받은값을 처리하는부분에서도 문제에 직면했다.. 평소 jQuery나 Vanila.js의 이벤트처리를 받아 DOM에 값을 처리하는 방법과는 조금 달랐던것같다.
  
  setState, props, useEffect라는것에 대해서 지인에게 질문을 하여 미약하게 사용법을 숙지하게 되었다.
  
  현재도 100% 이해는 못했지만, 앞으로 공부하면서 능숙하게 처리를 하고 확장해 나가고 싶은마음이 강하게 들었다.
  
  여기서 React에 대해서 도전정신이 상승했다.
  
  이제 입력받은 값을 Node 서버에 요청을 하고 응답받는 부분에 있어서는 Ajax를 많이 사용해봤지만, Axios를 사용을했다. Ajax보다는 비동기처리에 좀 더 컴팩트하게 전문화된 Axios라고 한다..
  
  Node서버에 데이터를 요청할때 직면한 CORS Policy 문제.. 리액트쪽에서 package.json에 proxy설정을 통해서 해결하는게 있다하는데.. 나는 Node서버쪽에서 CORS관련 모듈을 받아 해결을했다.
  
  이렇게 입력값을 서버와 비동기처리를 하다보니 서버에서 컨텍스트 문제가 있었다.. 서버에서 db에 접근하여 데이터를 가져올때 처리되는 함수가 비동기식이었다.
  
  promise를 제공하기 때문에 async / await 을 사용해서 then절에서 프론트에 response를 한 후 return을 통해서 종료 시키려했는데.. return 밑에 비동기처리 코드가 실행이 되는 상황에
  
  직면하게 되고.. 결국 문제해결은 했다. then절에서 return true or false값을 result 변수로 받아서 다음문장에서 if(result) return 시키는식으로 해결을 했다.
  
  결론을 내리면 컴포넌트라는것이 재활용 할 수있다는점에서 장점인데 나는 컴포넌트를 기반으로한 화면구성은 실패했다.. 
  
  많이 부족하게 개발을 진행했지만, 눈으로 읽으면서 React를 공부했던것보다 직접 기능을 만들고 해보니 React와 JavaScript에 대해서 더욱 공부가 되었던것 같다.
  
  
  
  
  

  
  
  
  
  
  
  

